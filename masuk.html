<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Troppion - Masuk</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background: #000;
      font-family: 'Montserrat', sans-serif;
    }
    canvas {
      display: block;
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
    }
    /* SVG opsional di pojok kiri bawah */
    svg {
      position: fixed;
      left: 16px;
      bottom: 16px;
      pointer-events: none;
      opacity: 0.75;
    }
    /* Konten tengah */
    .center-content {
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      z-index: 2;
      color: #fff;
    }
    .center-content h1 {
      font-size: clamp(28px, 5vw, 48px);
      font-weight: 800;
      letter-spacing: 2px;
      margin-bottom: 20px;
    }
    .btn-masuk {
      padding: 12px 28px;
      font-size: 18px;
      font-weight: 600;
      background-color: #FFA000;
      color: #000;
      border: none;
      border-radius: 8px;
      text-decoration: none;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .btn-masuk:hover {
      background-color: #ff8c00;
    }
  </style>
  <!-- Font Montserrat -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <canvas id="canvas"></canvas>

  <!-- Konten Tengah -->
  <div class="center-content">
    <h1>TROPPION</h1>
    <a href="Beranda.html" class="btn-masuk">Masuk</a>
  </div>

  <!-- Decorative SVG -->
  <svg width="25" height="35" viewBox="0 0 884 1279" fill="none" aria-hidden="true">
    <path d="m791 298-1-1-2-1 3 2Zm13 91h-1 1Zm-13-92v1-1Zm0 1v-1 1Zm3 2-2-2h-1l3 2Zm-364 886-3 2h1l2-2Zm211-41v3-3Zm-22 41-3 2h1l2-2Zm-338 10-3-1 3 1Zm-33-32-1-4 1 4Z" fill="#0D0C22"></path>
    <path class="y-path" d="M473 591c-46 20-98 42-166 42-28 0-56-4-84-12l47 480a80 80 0 0 0 80 74l88 3 96-3a80 80 0 0 0 79-74l50-530c-22-8-44-13-70-13-44 0-79 15-120 33Z" fill="#FFF"></path>
    <path d="M79 386v1h1l-1-1Z" fill="#0D0C22"></path>
    <path d="m880 342-7-36c-7-31-21-62-54-73-10-4-22-5-30-13s-11-19-12-30l-11-61c-3-17-5-37-13-52-10-22-32-34-53-42-11-5-22-8-33-11C613 10 557 5 503 2c-66-4-132-2-198 3-48 5-100 10-146 27-17 6-35 14-47 27a51 51 0 0 0-10 61c8 14 22 24 37 31 19 8 39 15 60 19a1334 1334 0 0 0 417 7c19-3 31-27 25-44-6-21-24-28-44-25l-9 1h-2a1234 1234 0 0 1-313 1l-6-1h-1l-6-1a665 665 0 0 1-42-9 6 6 0 0 1 3-9 626 626 0 0 1 45-8l21-2a1336 1336 0 0 1 290 1l7 1h5l43 8c21 5 47 6 57 29 3 7 4 15 6 23l2 10a153589 153589 0 0 0 15 74 13 13 0 0 1-11 10l-3 1h-3a1670 1670 0 0 1-253 16 1976 1976 0 0 1-250-16l-7-1-15-3-52-8c-21-4-41-2-60 8-16 9-28 22-36 38-8 17-11 35-14 53-4 18-10 38-8 56 5 40 33 73 74 80a2072 2072 0 0 0 604 20 26 26 0 0 1 28 29l-3 37a15200479 15200479 0 0 1-55 528c-2 22-2 44-6 66-7 34-30 54-63 62-31 7-62 11-94 11l-105-1c-37 0-82-3-111-31-26-24-29-63-32-96l-14-131-25-242-17-157-1-8c-2-19-15-37-36-36-18 0-38 16-36 36l12 116 25 241 22 205 4 40c8 71 62 110 130 121 40 6 80 8 120 8 52 1 104 3 155-6 75-14 131-64 139-142a758975 758975 0 0 0 30-290l25-243 11-111a26 26 0 0 1 21-22c21-5 42-12 57-28 24-26 29-60 21-94Z" fill="#0D0C22"></path>
  </svg>

  <script>
    // requestAnimationFrame polyfill
    window.requestAnimFrame = (
      window.requestAnimationFrame ||
      window.webkitRequestAnimationFrame ||
      window.mozRequestAnimationFrame ||
      function (callback) { return setTimeout(callback, 1000 / 60); }
    ).bind(window);

    function initCanvas(id) {
      const canvas = document.getElementById(id);
      const c = canvas.getContext('2d');
      resizeCanvas(canvas);
      return { c, canvas };
    }

    function resizeCanvas(canvas) {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }

    window.onload = function () {
      const { c, canvas } = initCanvas('canvas');
      let w = canvas.width, h = canvas.height;

      const mouse = { x: null, y: null };
      const last_mouse = { x: null, y: null };

      function dist(x1, y1, x2, y2) {
        return Math.hypot(x2 - x1, y2 - y1);
      }

      class Segment {
        constructor(parent, l, a, first) {
          this.first = first;
          this.pos = first ? { x: parent.x, y: parent.y } : { x: parent.nextPos.x, y: parent.nextPos.y };
          this.l = l;
          this.ang = a;
          this.nextPos = { x: this.pos.x + this.l * Math.cos(this.ang), y: this.pos.y + this.l * Math.sin(this.ang) };
        }
        update(t) {
          this.ang = Math.atan2(t.y - this.pos.y, t.x - this.pos.x);
          this.pos.x = t.x + this.l * Math.cos(this.ang - Math.PI);
          this.pos.y = t.y + this.l * Math.sin(this.ang - Math.PI);
          this.nextPos.x = this.pos.x + this.l * Math.cos(this.ang);
          this.nextPos.y = this.pos.y + this.l * Math.sin(this.ang);
        }
        fallback(t) {
          this.pos.x = t.x;
          this.pos.y = t.y;
          this.nextPos.x = this.pos.x + this.l * Math.cos(this.ang);
          this.nextPos.y = this.pos.y + this.l * Math.sin(this.ang);
        }
        show(ctx) { ctx.lineTo(this.nextPos.x, this.nextPos.y); }
      }

      class Tentacle {
        constructor(x, y, l, n) {
          this.x = x; this.y = y;
          this.l = l; this.n = n;
          this.rand = Math.random();
          this.segments = [new Segment(this, this.l / this.n, 0, true)];
          for (let i = 1; i < this.n; i++) {
            this.segments.push(new Segment(this.segments[i - 1], this.l / this.n, 0, false));
          }
        }
        move(last_target, target) {
          const angle = Math.atan2(target.y - this.y, target.x - this.x);
          const dt = dist(last_target.x, last_target.y, target.x, target.y) + 5;
          const tx = target.x - 0.8 * dt * Math.cos(angle);
          const ty = target.y - 0.8 * dt * Math.sin(angle);
          this.segments[this.n - 1].update({ x: tx, y: ty });
          for (let i = this.n - 2; i >= 0; i--) this.segments[i].update(this.segments[i + 1].pos);
          if (dist(this.x, this.y, target.x, target.y) <= this.l + dist(last_target.x, last_target.y, target.x, target.y)) {
            this.segments[0].fallback({ x: this.x, y: this.y });
            for (let i = 1; i < this.n; i++) this.segments[i].fallback(this.segments[i - 1].nextPos);
          }
        }
        show(ctx, target) {
          if (dist(this.x, this.y, target.x, target.y) <= this.l) {
            ctx.globalCompositeOperation = 'lighter';
            ctx.beginPath();
            ctx.moveTo(this.x, this.y);
            for (let i = 0; i < this.n; i++) this.segments[i].show(ctx);
            ctx.strokeStyle = `hsl(${this.rand * 60 + 180}, 100%, ${this.rand * 60 + 25}%)`;
            ctx.lineWidth = this.rand * 2;
            ctx.stroke();
            ctx.globalCompositeOperation = 'source-over';
          }
        }
        showDot(ctx, target) {
          ctx.beginPath();
          ctx.arc(this.x, this.y, 2 * this.rand + 1, 0, Math.PI * 2);
          ctx.fillStyle = dist(this.x, this.y, target.x, target.y) <= this.l ? '#fff' : 'darkcyan';
          ctx.fill();
        }
      }

      const tent = [];
      const maxl = 300, minl = 50, n = 30, numt = 500;
      const target = { x: w / 2, y: h / 2 };
      const last_target = { x: target.x, y: target.y };
      let t = 0;

      for (let i = 0; i < numt; i++) {
        tent.push(new Tentacle(Math.random() * w, Math.random() * h, Math.random() * (maxl - minl) + minl, n));
      }

      function draw() {
        target.x += ((mouse.x ?? w / 2) - target.x) / 10;
        target.y += ((mouse.y ?? h / 2) - target.y) / 10;
        t += 0.01;

        c.clearRect(0, 0, w, h);

        c.beginPath();
        c.arc(target.x, target.y, dist(last_target.x, last_target.y, target.x, target.y) + 5, 0, Math.PI * 2);
        c.fillStyle = 'hsl(210,100%,80%)';
        c.fill();

        for (let tentacle of tent) tentacle.move(last_target, target);
        for (let tentacle of tent) tentacle.showDot(c, target);
        for (let tentacle of tent) tentacle.show(c, target);

        last_target.x = target.x;
        last_target.y = target.y;
      }

      canvas.addEventListener('mousemove', e => { mouse.x = e.clientX; mouse.y = e.clientY; });
      canvas.addEventListener('mouseleave', () => { mouse.x = null; mouse.y = null; });

      (function loop() { requestAnimFrame(loop); draw(); })();

      window.addEventListener('resize', () => {
        resizeCanvas(canvas);
        w = canvas.width; h = canvas.height;
      });
    };
  </script>
</body>
</html>
